# ğŸš€ NodeJS Application Monitoring on Kubernetes  
### **Enterprise-Grade Observability: Prometheus â€¢ Grafana â€¢ Alertmanager â€¢ Slack**

![Kubernetes](https://img.shields.io/badge/Kubernetes-%23326CE5.svg?style=for-the-badge&logo=kubernetes&logoColor=white) ![Prometheus](https://img.shields.io/badge/Prometheus-%23E6522C.svg?style=for-the-badge&logo=prometheus&logoColor=white) ![Grafana](https://img.shields.io/badge/Grafana-%23F46800.svg?style=for-the-badge&logo=grafana&logoColor=white) ![Docker](https://img.shields.io/badge/docker-%232496ED.svg?style=for-the-badge&logo=docker&logoColor=white) ![Node JS](https://img.shields.io/badge/node.js-%23339933.svg?style=for-the-badge&logo=nodedotjs&logoColor=white) ![Slack](https://img.shields.io/badge/Slack-%234A154B.svg?style=for-the-badge&logo=slack&logoColor=white)

---






# ğŸš€ NodeJS Application Monitoring on Kubernetes  
### **Enterprise-Grade Observability: Prometheus â€¢ Grafana â€¢ Alertmanager â€¢ Slack**

<p align="center">
  <img src="https://img.shields.io/badge/Kubernetes-v1.30-326ce5?style=for-the-badge&logo=kubernetes&logoColor=white" />
  <img src="https://img.shields.io/badge/Prometheus-Monitoring-e6522c?style=for-the-badge&logo=prometheus&logoColor=white" />
  <img src="https://img.shields.io/badge/Grafana-Dashboards-f46800?style=for-the-badge&logo=grafana&logoColor=white" />
  <img src="https://img.shields.io/badge/Docker-Containerization-2496ed?style=for-the-badge&logo=docker&logoColor=white" />
  <img src="https://img.shields.io/badge/Node.js-Application-339933?style=for-the-badge&logo=node.js&logoColor=white" />
  <img src="https://img.shields.io/badge/Slack-Alerting-4A154B?style=for-the-badge&logo=slack&logoColor=white" />
</p>

---

## ğŸ“‹ Table of Contents
- [ğŸ“Œ Project Overview](#-project-overview)
- [ğŸ—ï¸ System Architecture](#ï¸-system-architecture)
- [ğŸ› ï¸ Technologies Used](#ï¸-technologies-used)
- [ğŸ“‚ Project Structure](#-project-structure)
- [ğŸš€ Deployment Guide](#-deployment-guide)
- [ğŸ“Š Metrics & Alerting](#-metrics--alerting)
- [ğŸ¯ Why This Project?](#-why-this-project)

---

## ğŸ“Œ Project Overview

This project is a **production-oriented DevOps capstone** designed to bridge the gap between application development and infrastructure reliability. It demonstrates a complete end-to-end lifecycle of a containerized application with a heavy focus on **Observability (SRE Principles)**.

**Key Highlights:**
- âœ… **Dynamic Scaling:** Application deployed on a multi-node K8s cluster.
- âœ… **Custom Instrumentation:** Using `prom-client` to expose business-specific metrics.
- âœ… **Proactive Monitoring:** Real-time data visualization and anomaly detection.
- âœ… **Automated Incident Response:** Instant Slack notifications for threshold breaches.

---

## ğŸ—ï¸ System Architecture



### ğŸ”„ The Observability Flow
1. **App Level:** Node.js app generates metrics on `/metrics`.
2. **Cluster Level:** Prometheus discovery finds targets and scrapes data.
3. **Visualization:** Grafana queries Prometheus to build heatmaps and graphs.
4. **Alerting:** Prometheus evaluates rules â†’ Sends to Alertmanager â†’ Delivers to Slack.

---

## ğŸ› ï¸ Technologies Used

| Category | Tool | Purpose |
| :--- | :--- | :--- |
| **Orchestration** | `Kubernetes` | Container Management & Scheduling |
| **Containerization** | `Docker` | Image Creation & Distribution |
| **Backend** | `Node.js` | Express API with Prometheus Client |
| **Metrics Engine** | `Prometheus` | Time-series data collection |
| **Visualization** | `Grafana` | Professional Monitoring Dashboards |
| **Incident Management** | `Alertmanager` | Alert Routing & Deduplication |
| **Communication** | `Slack` | Real-time Alert Notifications |

---

## ğŸ“‚ Project Structure

```bash
nodejs-k8s-monitoring/
â”œâ”€â”€ ğŸ“ app/                      # Source Code & Containerization
â”‚   â”œâ”€â”€ index.js                 # App with /metrics endpoint
â”‚   â””â”€â”€ Dockerfile               # Optimized multi-stage build
â”œâ”€â”€ ğŸ“ k8s/                      # Infrastructure as Code (YAML)
â”‚   â”œâ”€â”€ ğŸ“ app/                  # Deployment & Service manifests
â”‚   â””â”€â”€ ğŸ“ monitoring/           # ServiceMonitor & Alerting Rules
â”œâ”€â”€ ğŸ“ scripts/                  # Automation & DevOps Tools
â”‚   â”œâ”€â”€ send_requests.sh         # Traffic simulation script
â”‚   â””â”€â”€ ğŸ“ kubeadm/              # Cluster bootstrap scripts
â””â”€â”€ ğŸ“ architecture/             # Design diagrams & Screenshots


---

ğŸš€ Deployment Guide
1ï¸âƒ£ Bootstrap Kubernetes Cluster
Run these on your nodes to initialize the environment using kubeadm:

# On Master & Worker Nodes respectively
```bash
./scripts/kubeadm/01-install-k8s-master.sh
./scripts/kubeadm/02-install-k8s-node1.sh
```


2ï¸âƒ£ Ship the Application
Build your image and push it to the registry:

Bash
```bash
docker build -t <username>/nodejs-app:v1 ./app
docker push <username>/nodejs-app:v1
```
3ï¸âƒ£ Orchestrate with Kubernetes
Bash

# Deploy App & Monitoring Stack
kubectl apply -f k8s/app/
kubectl apply -f k8s/monitoring/
ğŸ“Š Metrics & Alerting
ğŸ“ˆ Metrics Exposed
Business: http_requests_root_total (Track user traffic).

Runtime: Heap usage, Event loop lag, Garbage collection.

Infra: CPU/Memory usage per Pod, Node Disk I/O.

ğŸ”” Smart Alerting
We don't just monitor; we notify. When traffic exceeds 10 req/sec, an alert is fired:

YAML

alert: HighRequestRate_NodeJS
expr: rate(http_requests_root_total[5m]) > 10
for: 1m
labels:
  severity: critical
ğŸ¯ Why This Project Matters
Production Ready: Uses secrets for sensitive Slack Webhooks.

Scalable: Designed to handle multiple microservices.

SRE Focused: Implements the "Four Golden Signals" of monitoring.

ğŸ‘¨â€ğŸ’» Author
Mohanad Faisal DevOps Engineer

















# ğŸš€ NodeJS Application Monitoring on Kubernetes  
**Prometheus â€¢ Grafana â€¢ Alertmanager â€¢ Slack**

![Kubernetes](https://img.shields.io/badge/Kubernetes-v1.30-326ce5?logo=kubernetes&logoColor=white)
![Prometheus](https://img.shields.io/badge/Prometheus-Monitoring-e6522c?logo=prometheus&logoColor=white)
![Grafana](https://img.shields.io/badge/Grafana-Dashboards-f46800?logo=grafana&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-Containerization-2496ed?logo=docker&logoColor=white)
![Node.js](https://img.shields.io/badge/Node.js-Application-339933?logo=node.js&logoColor=white)



## ğŸ“Œ Project Overview

This project is a **production-oriented DevOps capstone** that demonstrates how to:

- Deploy a **NodeJS application** on Kubernetes.
- Expose **custom application metrics** using Prometheus client.
- Collect **cluster & application metrics** via Prometheus.
- Visualize metrics using **Grafana dashboards**.
- Configure **Alertmanager** to send alerts to **Slack**.
- Automate Kubernetes cluster setup using **kubeadm scripts**.

The project follows **real-world monitoring and observability best practices** used in production environments.


---


## ğŸ—ï¸ System Architecture

### High-Level Architecture

![System Architecture](architecture/system-architecture.png)

### Monitoring & Alerting Flow

![Monitoring Flow](architecture/monitoring-flow.png)  
![Alerting Flow](architecture/alerting-flow.png)


---


## ğŸ› ï¸ Technologies Used

| Component | Technology |
|---------|------------|
| Containerization | Docker |
| Orchestration | Kubernetes (kubeadm) |
| Application | NodeJS (Express) |
| Metrics | Prometheus |
| Visualization | Grafana |
| Alerting | Alertmanager |
| Notifications | Slack Webhook |
| OS | Ubuntu Linux |


---


## ğŸ“‚ Project Structure

```text
nodejs-k8s-monitoring/
â”‚
â”œâ”€â”€ app/                          # NodeJS application
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ k8s/                          # Kubernetes manifests
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ nodejs-app.yaml
â”‚   â”‚   â””â”€â”€ nodejs-svc.yaml
â”‚   â”‚
â”‚   â””â”€â”€ monitoring/
â”‚       â”œâ”€â”€ nodejs-monitor-svc.yaml
â”‚       â”œâ”€â”€ nodejs-rule.yaml
â”‚       â”œâ”€â”€ nodejs-alert-manager.yaml
â”‚       â””â”€â”€ slack-secret-example.yaml
|       |__ .gitignoreâ”‚
|
â”œâ”€â”€ scripts/                      # Automation scripts
â”‚   â”œâ”€â”€ send_requests.sh
â”‚   â””â”€â”€ kubeadm/
â”‚       â”œâ”€â”€ 01-install-k8s-master.sh
â”‚       â”œâ”€â”€ 02-install-k8s-node1.sh
â”‚       â””â”€â”€ 03-install-k8s-node2.sh
â”‚
â”œâ”€â”€ screenshots/                  # Execution proof
â”‚   
â”‚   
â”‚  
â”‚
â”œâ”€â”€ architecture/                 # Architecture diagrams
â”‚   
â”‚   
â”‚
â””â”€â”€ README.md
```


---


ğŸš€ Deployment Guide
1ï¸âƒ£ Kubernetes Cluster Setup (kubeadm)

Run the following scripts on each node:

```bash
scripts/kubeadm/01-install-k8s-master.sh
scripts/kubeadm/02-install-k8s-node1.sh
scripts/kubeadm/03-install-k8s-node2.sh
```


2ï¸âƒ£ Build & Push NodeJS Image

```bash
docker build -t <dockerhub-username>/nodejs-app:v1 .
docker push <dockerhub-username>/nodejs-app:v1
```


3ï¸âƒ£ Deploy NodeJS Application

```bash
kubectl apply -f k8s/app/nodejs-app.yaml
kubectl apply -f k8s/app/nodejs-svc.yaml
```


4ï¸âƒ£ Deploy Monitoring Stack

```bash
kubectl apply -f k8s/monitoring/
```


5ï¸âƒ£ Grafana Dashboards

-Connect Grafana to Prometheus datasource.

-Import dashboards for:

*Node metrics

*Pod CPU / Memory

*Application metrics



6ï¸âƒ£ Alert Testing & Slack Notifications

Generate traffic using:

```bash
scripts/send_requests.sh
```




---



ğŸ“Š Metrics Exposed

-Application Metrics:

http_requests_root_total

Default NodeJS process metrics



-Kubernetes Metrics:

Pod CPU & Memory

Container restarts

Node resource usage



---


ğŸ”” Alerting Rules

Example alert:

```bash
alert: HighRequestRate_NodeJS
expr: rate(http_requests_root_total[5m]) > 10
```
Triggers Slack notification when request rate exceeds threshold.



---



ğŸ¯ Why This Project Matters

This project demonstrates:

âœ” Real-world Kubernetes monitoring
âœ” Application instrumentation best practices
âœ” Alerting & incident awareness
âœ” Production-ready DevOps mindset
âœ” Clean architecture & documentation


---





ğŸš€ Future Enhancements

-Add Helm charts

-Enable HPA based on custom metrics

-Add TLS & Ingress

-Centralized logging with Loki


---





ğŸ‘¨â€ğŸ’» Author

Mohanad Faisal
DevOps Engineer
