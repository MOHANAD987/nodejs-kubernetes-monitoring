# ğŸš€ NodeJS Application Monitoring on Kubernetes  
### Prometheus â€¢ Grafana â€¢ Alertmanager â€¢ Slack

![Kubernetes](https://img.shields.io/badge/Kubernetes-v1.30-blue)
![Prometheus](https://img.shields.io/badge/Prometheus-Monitoring-orange)
![Grafana](https://img.shields.io/badge/Grafana-Dashboards-yellow)
![Docker](https://img.shields.io/badge/Docker-Containerization-blue)
![NodeJS](https://img.shields.io/badge/NodeJS-Application-green)


---


## ğŸ“Œ Project Overview

This project is a **production-oriented DevOps capstone** that demonstrates how to:

- Deploy a **NodeJS application** on Kubernetes.
- Expose **custom application metrics** using Prometheus client.
- Collect **cluster & application metrics** via Prometheus.
- Visualize metrics using **Grafana dashboards**.
- Configure **Alertmanager** to send alerts to **Slack**.
- Automate Kubernetes cluster setup using **kubeadm scripts**.

The project follows **real-world monitoring and observability best practices** used in production environments.


---


## ğŸ—ï¸ System Architecture

### High-Level Architecture

![System Architecture](architecture/system-architecture.png)

### Monitoring & Alerting Flow

![Monitoring Flow](architecture/monitoring-flow.png)  
![Alerting Flow](architecture/alerting-flow.png)


---


## ğŸ› ï¸ Technologies Used

| Component | Technology |
|---------|------------|
| Containerization | Docker |
| Orchestration | Kubernetes (kubeadm) |
| Application | NodeJS (Express) |
| Metrics | Prometheus |
| Visualization | Grafana |
| Alerting | Alertmanager |
| Notifications | Slack Webhook |
| OS | Ubuntu Linux |


---


## ğŸ“‚ Project Structure

```text
nodejs-k8s-monitoring/
â”‚
â”œâ”€â”€ app/                          # NodeJS application
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ k8s/                          # Kubernetes manifests
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ nodejs-app.yaml
â”‚   â”‚   â””â”€â”€ nodejs-svc.yaml
â”‚   â”‚
â”‚   â””â”€â”€ monitoring/
â”‚       â”œâ”€â”€ nodejs-monitor-svc.yaml
â”‚       â”œâ”€â”€ nodejs-rule.yaml
â”‚       â”œâ”€â”€ nodejs-alert-manager.yaml
â”‚       â””â”€â”€ slack-secret.yaml
â”‚
â”œâ”€â”€ scripts/                      # Automation scripts
â”‚   â”œâ”€â”€ send_requests.sh
â”‚   â””â”€â”€ kubeadm/
â”‚       â”œâ”€â”€ 01-install-k8s-master.sh
â”‚       â”œâ”€â”€ 02-install-k8s-node1.sh
â”‚       â””â”€â”€ 03-install-k8s-node2.sh
â”‚
â”œâ”€â”€ screenshots/                  # Execution proof
â”‚   
â”‚   
â”‚  
â”‚
â”œâ”€â”€ architecture/                 # Architecture diagrams
â”‚   
â”‚   
â”‚
â””â”€â”€ README.md
```


---


ğŸš€ Deployment Guide
1ï¸âƒ£ Kubernetes Cluster Setup (kubeadm)

Run the following scripts on each node:

```bash
scripts/kubeadm/01-install-k8s-master.sh
scripts/kubeadm/02-install-k8s-node1.sh
scripts/kubeadm/03-install-k8s-node2.sh
```


2ï¸âƒ£ Build & Push NodeJS Image

```bash
docker build -t <dockerhub-username>/nodejs-app:v1 .
docker push <dockerhub-username>/nodejs-app:v1
```


3ï¸âƒ£ Deploy NodeJS Application

```bash
kubectl apply -f k8s/app/nodejs-app.yaml
kubectl apply -f k8s/app/nodejs-svc.yaml
```


4ï¸âƒ£ Deploy Monitoring Stack

```bash
kubectl apply -f k8s/monitoring/
```


5ï¸âƒ£ Grafana Dashboards

-Connect Grafana to Prometheus datasource.

-Import dashboards for:

*Node metrics

*Pod CPU / Memory

*Application metrics



6ï¸âƒ£ Alert Testing & Slack Notifications

Generate traffic using:

```bash
scripts/send_requests.sh
```




---



ğŸ“Š Metrics Exposed

-Application Metrics:

http_requests_root_total

Default NodeJS process metrics



-Kubernetes Metrics:

Pod CPU & Memory

Container restarts

Node resource usage




---


ğŸ”” Alerting Rules

Example alert:

```bash
alert: HighRequestRate_NodeJS
expr: rate(http_requests_root_total[5m]) > 10
```
Triggers Slack notification when request rate exceeds threshold.




---



ğŸ¯ Why This Project Matters

This project demonstrates:

âœ” Real-world Kubernetes monitoring
âœ” Application instrumentation best practices
âœ” Alerting & incident awareness
âœ” Production-ready DevOps mindset
âœ” Clean architecture & documentation





---





ğŸš€ Future Enhancements

-Add Helm charts

-Enable HPA based on custom metrics

-Add TLS & Ingress

-Centralized logging with Loki




---





ğŸ‘¨â€ğŸ’» Author

Mohanad Faisal
DevOps Engineer
